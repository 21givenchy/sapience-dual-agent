{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/Downloads/sapience-dual-agent/src/config.ts"],"sourcesContent":["/**\r\n * Configuration for Sapience agents\r\n */\r\n\r\nexport const SAPIENCE_CONFIG = {\r\n  // API endpoints\r\n  API_BASE_URL: \"https://api.sapience.xyz\",\r\n  MARKETS_ENDPOINT: \"/markets\",\r\n  FORECASTS_ENDPOINT: \"/forecasts\",\r\n  LEADERBOARD_ENDPOINT: \"/leaderboard\",\r\n\r\n  // Arbitrum network\r\n  ARBITRUM_RPC_URL: process.env.ARBITRUM_RPC_URL || \"https://arb1.arbitrum.io/rpc\",\r\n  CHAIN_ID: 42161,\r\n   \r\n  // Contracts\r\n  \r\n  USDE_TOKEN_ADDRESS: \"0xFd4cb59b3B0F51a08CEa8fade0F7B13d51180fff\", // USDe on Arbitrum\r\n\r\n  // Agent parameters\r\n  FORECASTING:  {\r\n    MIN_CONFIDENCE: 0.70,\r\n    MAX_MARKETS_PER_RUN: 50,\r\n    REQUEST_DELAY_MS: 2000,\r\n  },\r\n\r\n  TRADING: {\r\n    MIN_CONFIDENCE: 0.65,\r\n    MIN_EXPECTED_VALUE: 1.1, // 10% edge\r\n    WAGER_AMOUNT: 1, // 1 USDe per trade\r\n    MAX_TRADES_PER_RUN: 10,\r\n    REQUEST_DELAY_MS: 2000,\r\n  },\r\n\r\n  // Market filtering\r\n  MIN_LIQUIDITY: 1000, // Minimum liquidity to consider\r\n  MIN_DAYS_TO_RESOLUTION: 1,\r\n  MAX_DAYS_TO_RESOLUTION: 365,\r\n\r\n  // Agent parameters - Groq configuration\r\n  GROQ_MODEL: process.env.AGENT_MODEL || 'moonshotai/kimi-k2-instruct-0905',\r\n  GROQ_TEMPERATURE: parseFloat(process.env.AGENT_TEMPERATURE || '0.3'),\r\n  GROQ_MAX_TOKENS: parseInt(process.env.AGENT_MAX_TOKENS || '200'),\r\n};\r\n\r\nexport const API_KEYS = {\r\n  ANTHROPIC: process.env.ANTHROPIC_API_KEY || \"\",\r\n  PRIVATE_KEY: process.env.PRIVATE_KEY || \"\",\r\n  SAPIENCE_API_KEY: process.env.SAPIENCE_API_KEY || \"\",\r\n  GROQ_API_KEY: process.env.GROQ_API_KEY || \"\",\r\n  DOME_API_KEY: process.env.DOME_API_KEY || \"\",\r\n};\r\n\r\nexport const ETHEREUM_CONFIG = {\r\n  PRIVATE_KEY: process.env.PRIVATE_KEY || \"\",\r\n  ARBITRUM_RPC_URL: process.env.ARBITRUM_RPC_URL || \"https://arb1.arbitrum.io/rpc\",\r\n  CHAIN_ID: 42161,\r\n};\r\n\r\nexport interface Config {\r\n  // API Keys\r\n  groqApiKey: string;\r\n  domeApiKey: string;\r\n  anthropicApiKey?: string;\r\n  \r\n  // Agent settings\r\n  agentModel: string;\r\n  agentTemperature: number;\r\n  agentMaxTokens: number;\r\n  \r\n  // Server\r\n  port: number;\r\n  host: string;\r\n  nodeEnv: string;\r\n}\r\n\r\nexport function validateConfig(): Config {\r\n  const config: Config = {\r\n    groqApiKey: process.env.GROQ_API_KEY || '',\r\n    domeApiKey: process.env.DOME_API_KEY || '',\r\n    anthropicApiKey: process.env.ANTHROPIC_API_KEY,\r\n    agentModel: process.env.AGENT_MODEL || 'moonshotai/kimi-k2-instruct-0905',\r\n    agentTemperature: parseFloat(process.env.AGENT_TEMPERATURE || '0.6'),\r\n    agentMaxTokens: parseInt(process.env.AGENT_MAX_TOKENS || '4096'),\r\n    port: parseInt(process.env.PORT || '3000'),\r\n    host: process.env.HOST || 'localhost',\r\n    nodeEnv: process.env.NODE_ENV || 'development',\r\n  };\r\n\r\n  // Validate required keys\r\n  if (!config.groqApiKey) {\r\n    throw new Error('GROQ_API_KEY not set');\r\n  }\r\n  \r\n  if (!process.env.PRIVATE_KEY) {\r\n    throw new Error('PRIVATE_KEY not set - required for submitting forecasts to Arbitrum');\r\n  }\r\n\r\n  return config;\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;AAEM,MAAM,kBAAkB;IAC7B,gBAAgB;IAChB,cAAc;IACd,kBAAkB;IAClB,oBAAoB;IACpB,sBAAsB;IAEtB,mBAAmB;IACnB,kBAAkB,QAAQ,GAAG,CAAC,gBAAgB,IAAI;IAClD,UAAU;IAEV,YAAY;IAEZ,oBAAoB;IAEpB,mBAAmB;IACnB,aAAc;QACZ,gBAAgB;QAChB,qBAAqB;QACrB,kBAAkB;IACpB;IAEA,SAAS;QACP,gBAAgB;QAChB,oBAAoB;QACpB,cAAc;QACd,oBAAoB;QACpB,kBAAkB;IACpB;IAEA,mBAAmB;IACnB,eAAe;IACf,wBAAwB;IACxB,wBAAwB;IAExB,wCAAwC;IACxC,YAAY,QAAQ,GAAG,CAAC,WAAW,IAAI;IACvC,kBAAkB,WAAW,QAAQ,GAAG,CAAC,iBAAiB,IAAI;IAC9D,iBAAiB,SAAS,QAAQ,GAAG,CAAC,gBAAgB,IAAI;AAC5D;AAEO,MAAM,WAAW;IACtB,WAAW,QAAQ,GAAG,CAAC,iBAAiB,IAAI;IAC5C,aAAa,QAAQ,GAAG,CAAC,WAAW,IAAI;IACxC,kBAAkB,QAAQ,GAAG,CAAC,gBAAgB,IAAI;IAClD,cAAc,QAAQ,GAAG,CAAC,YAAY,IAAI;IAC1C,cAAc,QAAQ,GAAG,CAAC,YAAY,IAAI;AAC5C;AAEO,MAAM,kBAAkB;IAC7B,aAAa,QAAQ,GAAG,CAAC,WAAW,IAAI;IACxC,kBAAkB,QAAQ,GAAG,CAAC,gBAAgB,IAAI;IAClD,UAAU;AACZ;AAmBO,SAAS;IACd,MAAM,SAAiB;QACrB,YAAY,QAAQ,GAAG,CAAC,YAAY,IAAI;QACxC,YAAY,QAAQ,GAAG,CAAC,YAAY,IAAI;QACxC,iBAAiB,QAAQ,GAAG,CAAC,iBAAiB;QAC9C,YAAY,QAAQ,GAAG,CAAC,WAAW,IAAI;QACvC,kBAAkB,WAAW,QAAQ,GAAG,CAAC,iBAAiB,IAAI;QAC9D,gBAAgB,SAAS,QAAQ,GAAG,CAAC,gBAAgB,IAAI;QACzD,MAAM,SAAS,QAAQ,GAAG,CAAC,IAAI,IAAI;QACnC,MAAM,QAAQ,GAAG,CAAC,IAAI,IAAI;QAC1B,SAAS,mDAAwB;IACnC;IAEA,yBAAyB;IACzB,IAAI,CAAC,OAAO,UAAU,EAAE;QACtB,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;QAC5B,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/Downloads/sapience-dual-agent/app/api/conditions/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { validateConfig, API_KEYS, ETHEREUM_CONFIG } from '@/src/config'\r\n\r\nexport const runtime = 'nodejs'\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url)\r\n    const limit = parseInt(searchParams.get('limit') || '20')\r\n\r\n    validateConfig()\r\n\r\n    // Dynamic import to avoid bundling issues\r\n    const { ForecastingAgent } = await import('@/src/agents/forecasting-agent')\r\n\r\n    const agent = new ForecastingAgent({\r\n      privateKey: ETHEREUM_CONFIG.PRIVATE_KEY,\r\n      groqApiKey: API_KEYS.GROQ_API_KEY,\r\n    })\r\n\r\n    const conditions = await agent.getConditions(limit)\r\n\r\n    return NextResponse.json({ \r\n      success: true,\r\n      conditions,\r\n      count: conditions.length\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Error fetching conditions:', error)\r\n    return NextResponse.json(\r\n      { success: false, error: error.message },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAChB,MAAM,UAAU;AAEhB,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,QAAQ,SAAS,aAAa,GAAG,CAAC,YAAY;QAEpD,IAAA,iIAAc;QAEd,0CAA0C;QAC1C,MAAM,EAAE,gBAAgB,EAAE,GAAG;QAE7B,MAAM,QAAQ,IAAI,iBAAiB;YACjC,YAAY,kIAAe,CAAC,WAAW;YACvC,YAAY,2HAAQ,CAAC,YAAY;QACnC;QAEA,MAAM,aAAa,MAAM,MAAM,aAAa,CAAC;QAE7C,OAAO,+PAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA,OAAO,WAAW,MAAM;QAC1B;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,+PAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO,MAAM,OAAO;QAAC,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}